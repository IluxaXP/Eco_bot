**Telegram Bot for Air Quality Analysis and Forecasting**

Этот Telegram-бот предназначен для анализа и прогнозирования качества воздуха в различных районах на основе исторических данных. Бот использует библиотеку aiogram для взаимодействия с Telegram API и Prophet для построения прогнозов.

**Основные функции**

- **Анализ исторических данных**: Бот отображает графики изменения уровня загрязнения воздуха по различным параметрам (например, PM2.5, NO2 и т.д.).
- **Прогнозирование**: С использованием модели Prophet бот строит прогнозы на будущие периоды.
- **Сравнение с ПДК**: На графиках отображается уровень предельно допустимой концентрации (ПДК) для каждого параметра.
- **Интерактивное взаимодействие**: Пользователь выбирает район из списка, и бот отправляет соответствующие графики.

**Технологии**

- **Python 3.9+**
- **aiogram**: Библиотека для работы с Telegram Bot API.
- **pandas**: Для обработки и анализа данных.
- **matplotlib**: Для построения графиков.
- **Prophet**: Модель для прогнозирования временных рядов.
- **aiofiles**: Для асинхронной работы с файлами.

**Установка и настройка**

**1. Клонирование репозитория**

bash

Copy

git clone https://github.com/ваш-username/ваш-репозиторий.git

cd ваш-репозиторий

**2. Установка зависимостей**

Убедитесь, что у вас установлен Python 3.9 или выше. Затем установите необходимые зависимости:

bash

Copy

pip install -r requirements.txt

**3. Настройка токена бота**

1. Создайте файл data/TOKEN.py и добавьте в него ваш токен:

   python

   Copy

   API\_TOKEN = "ваш\_токен\_бота"

1. Убедитесь, что файл data/TOKEN.py добавлен в .gitignore, чтобы токен не попал в публичный репозиторий.

**4. Подготовка данных**

1. Поместите файл с данными (например, new\_data.csv) в корневую директорию проекта.
1. Убедитесь, что файл содержит следующие колонки:
   1. District: Название района.
   1. Period: Дата в формате YYYY-MM-DD.
   1. MonthlyAverage: Среднемесячное значение загрязнения.
   1. PDKnorm: Уровень ПДК для параметра.
   1. Parameter: Название параметра загрязнения (например, PM2.5, NO2).

**5. Запуск бота**

Запустите бота с помощью команды:

bash

Copy

python bot.py

**Использование**

1. Откройте Telegram и найдите своего бота.
1. Отправьте команду /start.
1. Выберите район из предложенного списка.
1. Бот отправит графики с историческими данными и прогнозами для каждого параметра загрязнения.

**Пример работы**

1. Пользователь отправляет /start.
1. Бот предлагает выбрать район.
1. Пользователь выбирает район, например, "Центральный".
1. Бот отправляет графики с анализом и прогнозами для выбранного района.

**Структура проекта**

Copy

.

├── bot.py                  # Основной скрипт бота

├── data/

│   └── TOKEN.py            # Файл с токеном бота

├── new\_data.csv            # Файл с данными

├── README.md               # Документация

├── requirements.txt        # Список зависимостей

└── .gitignore              # Игнорируемые файлы

**Зависимости**

Список зависимостей находится в файле requirements.txt. Установите их с помощью:

bash

Copy

pip install -r requirements.txt

**Лицензия**

Этот проект распространяется под лицензией MIT. Подробности см. в файле [LICENSE](https://chat.deepseek.com/a/chat/s/LICENSE).

-----
**Возможные улучшения**

1. **Добавление новых параметров**: Расширение списка анализируемых параметров загрязнения.
1. **Интеграция с базами данных**: Использование баз данных (например, PostgreSQL) для хранения и обработки данных.
1. **Улучшение интерфейса**: Добавление интерактивных кнопок и меню для более удобного взаимодействия.
1. **Обработка ошибок**: Улучшение обработки ошибок и уведомлений пользователя.
-----
Если у вас есть вопросы или предложения, пожалуйста, создайте issue в репозитории или свяжитесь со мной.

-----
Этот README.md предоставляет всю необходимую информацию для запуска и использования вашего бота. Если нужно что-то добавить или изменить, дайте знать! 😊

